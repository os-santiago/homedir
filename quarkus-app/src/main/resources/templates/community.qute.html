{#include layout/main}
{#title}Community – HomeDir{/title}
{#body}
<div class="page-container">
  <section class="page-header">
    <div class="hd-grid hd-grid--2cols" style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
      <div class="hd-hero-text">
        <p class="eyebrow">Community</p>
        <h1 class="public-title" style="text-align: left;">{vm.orgName}</h1>
        <p class="tagline" style="text-align: left;">{vm.orgDescription}</p>
      </div>
      <div class="hd-hero-panel">
        <div class="section-card" style="padding: 1.5rem;">
          <h2 style="font-size: 0.8rem;">Tu perfil GitHub</h2>
          <p style="font-size: 0.6rem; margin-bottom: 1rem;">user: <span style="color: #ffd700;">GitHub user
              (placeholder)</span></p>
          <ul style="list-style: none; margin-bottom: 1rem; font-family: var(--font-body); font-size: 0.7rem;">
            <li><span>Repos:</span> <span>—</span></li>
            <li><span>Stars:</span> <span>—</span></li>
            <li><span>Followers:</span> <span>—</span></li>
          </ul>
          <button class="btn-primary" style="width: 100%;">
            Conectar con GitHub
          </button>
        </div>
      </div>
    </div>
  </section>

  <section class="page-grid">
    <div class="community-stats">
      <article class="stat-item">
        <div class="stat-info">
          <p class="stat-value">{vm.totalMembers}</p>
          <p class="stat-label">Miembros estimados</p>
        </div>
      </article>
      <article class="stat-item">
        <div class="stat-info">
          <p class="stat-value">{vm.totalContributors}</p>
          <p class="stat-label">Contribuidores</p>
        </div>
      </article>
      <article class="stat-item">
        <div class="stat-info">
          <p class="stat-value">{vm.totalCommits}</p>
          <p class="stat-label">Commits</p>
        </div>
      </article>
      <article class="stat-item">
        <div class="stat-info">
          <p class="stat-value">{vm.totalPullRequests} / {vm.totalIssues}</p>
          <p class="stat-label">PRs & Issues</p>
        </div>
      </article>
    </div>
  </section>

  <section class="page-grid">
    <header class="section-header" style="grid-column: 1 / -1; margin-bottom: 1rem;">
      <h2>Top contributors</h2>
      <p class="section-subtitle">
        Principales colaborador@s en los repositorios de OSS Santiago.
      </p>
    </header>

    {#for c in vm.topContributors}
    <article class="section-card">
      <h3 style="color: #ffd700; font-family: var(--font-display); margin-bottom: 0.5rem;">@{c.username}</h3>
      <ul style="list-style: none; font-size: 0.7rem;">
        <li><span>Commits:</span> <span>{c.commits}</span></li>
        <li><span>PRs:</span> <span>{c.pullRequests}</span></li>
        <li><span>Issues:</span> <span>{c.issues}</span></li>
      </ul>
    </article>
    {/for}
  </section>

  <section class="page-grid">
    <header class="section-header" style="grid-column: 1 / -1; margin-bottom: 1rem;">
      <h2>Actividad reciente</h2>
      <p class="section-subtitle">
        Últimos movimientos en los repos de la comunidad.
      </p>
    </header>

    <div style="grid-column: 1 / -1; display: flex; flex-direction: column; gap: 1rem;">
      {#for a in vm.recentActivity}
      <article class="section-card"
        style="display: flex; justify-content: space-between; align-items: center; padding: 1rem;">
        <div style="display: flex; gap: 1rem; align-items: center;">
          <span style="color: #ffd700;">@{a.username}</span>
          <span>{a.action}</span>
          <span style="opacity: 0.7;">{a.repo}</span>
        </div>
        <span style="font-size: 0.6rem;">{a.when}</span>
      </article>
      {/for}
    </div>
  </section>
</div>
{/body}
{/include}