<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{#insert title}EventFlow{/}</title>
    <link rel="stylesheet" href="/styles.css">
    <script src="/js/app.js" defer></script>
</head>
<body>
<a href="#main-content" class="skip-link">Ir al contenido principal</a>
<header class="nav-menu" id="nav-menu" aria-label="Principal">
    <a href="/" class="nav-logo"><h2 class="title">EventFlow</h2></a>
    <button id="menuToggle" class="menu-toggle" aria-label="MenÃº" aria-controls="primary-navigation" aria-expanded="false">&#9776;</button>
    <div class="nav-links" id="primary-navigation">
        <a href="/">Inicio</a>
        {#if app:isAuthenticated()}
            <a href="/my-events">Mis Eventos</a>
            <a href="/private/profile">Mis Charlas</a>
            {#if app:isAdmin()}
                <a href="/private/admin">Admin</a>
            {/if}
            <div class="user-menu">
                <button id="userMenuBtn" class="user-menu-btn" aria-label="Usuario" aria-expanded="false">
                    {#if app:userAvatar()}
                        <img src="{app:userAvatar()}" alt="{app:userName()}" class="avatar" />
                    {#else}
                        <span class="avatar placeholder">ðŸ‘¤</span>
                    {/if}
                    <span class="user-name">{app:userName()}</span>
                </button>
                <div class="dropdown" id="userDropdown">
                    <a href="/private/profile">Perfil</a>
                    <a href="/logout">Salir</a>
                </div>
            </div>
        {#else}
            <a href="/login" class="btn">Ingresar</a>
        {/if}
    </div>
</header>
<nav class="breadcrumbs" aria-label="Ruta de navegaciÃ³n">{#insert breadcrumbs}{/}</nav>
<div id="notification" class="notification hidden" role="alert"></div>
<div id="loading" class="loading hidden"><div class="spinner"></div></div>
<main id="main-content" class="container">
    {#if version?? || links??}
        {#include partials/project-header version=version stats=stats links=links /}
    {/if}
    {#insert main}{/}
</main>
<footer>
    <div class="container">
        <p>&copy; {app:currentYear()} EventFlow &ndash; v{app:version()}</p>
    </div>
</footer>
</body>
</html>
