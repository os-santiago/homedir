{#include layout/base}
{#title}
{#if event}
{event.title}
{#else}
Evento
{/if}
{/title}
{#breadcrumbs}
  {#if event}
  <a href="/">Eventos</a><span class="sep">/</span><span>{event.title}</span>
  {/if}
{/breadcrumbs}
{#main}
{#if event}
<section class="event-detail">
  <h1 class="page-title">{event.title}</h1>
  <div class="card">
    <p>{event.description}</p>
    {#if event.mapUrl}
      <p><strong>Lugar:</strong> <a href="{event.mapUrl}" target="_blank">Ver mapa</a></p>
    {/if}
    <p><strong>Duración:</strong> {event.days} día{#if event.days > 1}s{/if}</p>
  </div>
    {#if !event.scenarios.isEmpty()}
    <div class="card">
      <h2 class="card-title"><span class="icon">🏟️</span>Escenarios</h2>
      <div class="scenario-grid">
      {#for s in event.scenarios}
        <article class="scenario-card">
          <h3>{s.name}</h3>
          {#if s.location}<p class="scenario-location">{s.location}</p>{/if}
          <a href="/scenario/{s.id}" class="btn">Ver charlas</a>
        </article>
      {/for}
      </div>
    </div>
    {/if}
    {#if !event.agenda.isEmpty()}
    <div class="card">
      <h2 class="card-title"><span class="icon">🗓️</span>Agenda</h2>
      <p><a href="/event/{event.id}/agenda" class="btn btn-secondary">Ver agenda completa</a></p>
      {#for d in event.dayList}
        <h3>Día {d}</h3>
        <ul class="agenda-list">
        {#for t in event.getAgendaForDay(d)}
          <li class="agenda-item"><span class="icon">🗣️</span>{t.startTimeStr} - {t.endTimeStr} | <a href="/talk/{t.id}">{t.name}</a> | <a href="/scenario/{t.location}">{event.getScenarioName(t.location)}</a></li>
        {/for}
        </ul>
      {/for}
    </div>
    {/if}
  <a href="/" class="btn">Volver al inicio</a>
</section>
{#else}
<p class="no-events">Evento no encontrado.</p>
{/if}
{/main}
{/include}
