{#include layout/base}
{#title}Eventos{/title}
{#breadcrumbs}<a href="/private/admin">Admin</a><span class="sep">/</span><span>Eventos</span>{/breadcrumbs}
{#main}
<section class="event-list-admin">
    <h1 class="page-title"><span class="icon">🗓️</span>Eventos</h1>
  {#if message}
  <p class="section-subtitle">{message}</p>
  {/if}
  <div class="card action-group">
    <a href="/private/admin/events/new" class="btn">Nuevo evento</a>
    <form method="post" action="/private/admin/events/import" enctype="multipart/form-data">
      <input type="file" name="file" accept="application/json">
      <button type="submit" class="btn btn-secondary">Importar JSON</button>
    </form>
  </div>
  {#if events.isEmpty()}
  <p class="no-events">No hay eventos registrados.</p>
  {#else}
  <div class="card">
    <table class="table">
      <thead><tr><th>ID</th><th>Título</th><th>Acciones</th></tr></thead>
      <tbody>
      {#for ev in events}
        <tr>
          <td>{ev.id}</td>
          <td>{ev.title}</td>
          <td class="action-group">
            <a href="/private/admin/events/{ev.id}/edit" class="btn btn-secondary">Editar</a>
            <form method="post" action="/private/admin/events/{ev.id}/delete" style="display:inline" class="needs-confirm">
              <button type="submit" class="btn btn-secondary">Eliminar</button>
            </form>
          </td>
        </tr>
      {/for}
      </tbody>
    </table>
  </div>
  {/if}
  <a href="/private/admin" class="btn btn-secondary">Volver</a>
</section>
{/main}
{/include}
