{#include layout/main}
{#body}
<section class="public-content" id="publicContent">
  <header class="public-header">
    <div>
      <h1 id="mainTitle">HomeDir</h1>
      <p class="tagline" id="mainTagline">
        {i18n.platform_by} - {i18n.platform_tagline}
      </p>
    </div>
    <div class="meta">
      <span>{i18n.meta_members(vm.community.totalMembers ?: 0)}</span>
      <span>{i18n.meta_projects(vm.community.totalProjects ?: 0)}</span>
      <span>{vm.character.loggedIn ? i18n.role_member : i18n.role_visitor}</span>
    </div>
  </header>

  <div class="main-sections">
    <article class="section-card" id="communityCard">
      <div>
        <h2>{i18n.nav_community}</h2>
        <p>{i18n.home_community_desc}</p>
        <div class="activity-text">{i18n.home_community_activity}</div>
      </div>
      <div class="actions">
        <button class="btn primary">{i18n.home_btn_explore}</button>
        <button class="btn">{i18n.home_btn_roster}</button>
      </div>
    </article>

    <article class="section-card" id="eventsCard">
      <div>
        <h2>{i18n.nav_events}</h2>
        <p>{i18n.home_events_desc}</p>
        <div class="activity-text">{i18n.home_events_activity}</div>
      </div>
      <div class="actions">
        <button class="btn primary">{i18n.home_btn_attend}</button>
        <button class="btn">{i18n.home_btn_schedule}</button>
      </div>
    </article>

    <article class="section-card" id="projectsCard">
      <div>
        <h2>{i18n.nav_projects}</h2>
        <p>{i18n.home_projects_desc}</p>
        <div class="activity-text">{i18n.home_projects_activity}</div>
      </div>
      <div class="actions">
        <button class="btn primary">{i18n.home_btn_join}</button>
        <button class="btn">{i18n.home_btn_propose}</button>
      </div>
    </article>
  </div>

  <section class="community-view" id="communityView">
    <div class="village-container">
      <div class="community-header">
        <div class="meta">
          <span>{i18n.home_village_title}</span>
          <span>{i18n.home_village_desc}</span>
        </div>
      </div>
      <div class="village-landscape">
        <div class="inhabitants-layer" id="inhabitantsLayer"></div>
      </div>
    </div>
    <aside class="community-stats">
      <h3>{i18n.home_stats_title}</h3>
      <div class="stat-grid">
        <div class="stat-item">
          <div class="stat-icon">üë•</div>
          <div>
            <span class="stat-value">{vm.community.totalMembers ?: 0}</span>
            <div class="stat-label">{i18n.home_stats_members}</div>
          </div>
        </div>
        <div class="stat-item">
          <div class="stat-icon">‚≠ê</div>
          <div>
            <span class="stat-value">{vm.community.totalXp ?: 0}</span>
            <div class="stat-label">{i18n.home_stats_xp}</div>
          </div>
        </div>
        <div class="stat-item">
          <div class="stat-icon">üèÜ</div>
          <div>
            <span class="stat-value">{vm.community.totalQuests ?: 0}</span>
            <div class="stat-label">{i18n.home_stats_quests}</div>
          </div>
        </div>
        <div class="stat-item">
          <div class="stat-icon">üöÄ</div>
          <div>
            <span class="stat-value">{vm.community.totalProjects ?: 0}</span>
            <div class="stat-label">{i18n.home_stats_projects}</div>
          </div>
        </div>
      </div>
    </aside>
  </section>

  <div class="character-sheet">
    <div class="character-container">
      {#if !vm.character.loggedIn}
      <div class="novice-warning">{i18n.home_guest_warning}</div>
      {/if}
      <div class="character-header">
        <div>
          <h3 id="characterName">{vm.character.displayName.or(i18n.home_guest_name)}</h3>
          <span class="character-class">{vm.character.roleLabel.or(i18n.home_guest_role)}</span>
        </div>
        <div class="character-level" id="characterLevel">{i18n.home_level(vm.character.level ?: 1)}</div>
      </div>
      <div class="character-main">
        <div class="character-vitals">
          <div class="vital-bar">
            <div class="vital-label">
              <span class="vital-name">HP</span>
              <span class="vital-value" id="hpValue">{vm.character.hpPercent ?: 10} / 100</span>
            </div>
            <div class="vital-progress">
              <div class="vital-fill hp-fill" id="hpBar" style="width: {vm.character.hpPercent ?: 10}%"></div>
            </div>
          </div>
          <div class="vital-bar">
            <div class="vital-label">
              <span class="vital-name">SP</span>
              <span class="vital-value" id="spValue">{vm.character.spPercent ?: 5} / 100</span>
            </div>
            <div class="vital-progress">
              <div class="vital-fill sp-fill" id="spBar" style="width: {vm.character.spPercent ?: 5}%"></div>
            </div>
          </div>
          <div class="vital-bar">
            <div class="vital-label">
              <span class="vital-name">XP</span>
              <span class="vital-value" id="xpValue">{vm.character.xpCurrent ?: 0} / {vm.character.xpMax ?: 100}</span>
            </div>
            <div class="vital-progress">
              <div class="vital-fill xp-fill" id="xpBar"
                style="width: {(vm.character.xpCurrent * 100 / vm.character.xpMax) ?: 0}%"></div>
            </div>
          </div>
        </div>
        <div class="character-stats">
          <div class="stat-box">
            <div class="stat-icon">üéØ</div>
            <div class="value">{vm.character.contributions ?: 0}</div>
            <div class="label">{i18n.home_stat_contributions}</div>
          </div>
          <div class="stat-box">
            <div class="stat-icon">üèÜ</div>
            <div class="value">{vm.character.quests ?: 0}</div>
            <div class="label">{i18n.nav_quests}</div>
          </div>
          <div class="stat-box">
            <div class="stat-icon">üìÖ</div>
            <div class="value">{vm.character.events ?: 0}</div>
            <div class="label">{i18n.nav_events}</div>
          </div>
          <div class="stat-box">
            <div class="stat-icon">üöÄ</div>
            <div class="value">{vm.character.projects ?: 0}</div>
            <div class="label">{i18n.nav_projects}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{/body}
{/include}