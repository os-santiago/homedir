{#include layout/main activePage="home"}
{#title}Home{/title}
{#body}
<header class="public-header home-highlight-hero">
  <p class="eyebrow">Home</p>
  <h1 class="public-title">Social · Events · Project</h1>
  <p class="tagline">
    One-page highlights to quickly discover what is new in the Community platform for OSS Santiago.
  </p>
  <div class="home-hero-pills">
    <a href="#social" class="home-hero-pill">Social</a>
    <a href="#events" class="home-hero-pill">Events</a>
    <a href="#project" class="home-hero-pill">Project</a>
  </div>
</header>

<section class="page-grid home-quick-grid">
  <a href="/comunidad" class="section-card home-quick-card home-quick-card-social">
    <span class="material-symbols-outlined home-quick-icon">groups</span>
    <h2>Social</h2>
    <p>Community news, curated content and fast discovery.</p>
    <p class="home-quick-metric">{socialHighlightsCount} updates available</p>
  </a>

  <a href="/eventos" class="section-card home-quick-card home-quick-card-events">
    <span class="material-symbols-outlined home-quick-icon">calendar_month</span>
    <h2>Events</h2>
    <p>Upcoming meetups and activities with direct access.</p>
    <p class="home-quick-metric">{upcomingCount} upcoming events</p>
  </a>

  <a href="/proyectos" class="section-card home-quick-card home-quick-card-project">
    <span class="material-symbols-outlined home-quick-icon">rocket_launch</span>
    <h2>Project</h2>
    <p>Open collaboration, contributors and delivery momentum.</p>
    <p class="home-quick-metric">{projectContributorCount} active contributors</p>
  </a>
</section>

<section class="page-grid home-highlight-grid" id="social">
  <div class="section-header home-highlight-header home-highlight-full">
    <p class="section-subtitle">Social highlights</p>
    <h2 class="page-title">Latest community content</h2>
    <a href="/comunidad" class="btn-primary">Open Social</a>
  </div>

  {#if socialHighlights.isEmpty()}
  <article class="section-card home-highlight-empty home-highlight-full">
    <span class="material-symbols-outlined">rss_feed</span>
    <p>No social updates loaded yet. Open Social to check the latest refresh.</p>
  </article>
  {#else}
  {#for item in socialHighlights}
  <a href="{item.url}" target="_blank" rel="noopener noreferrer" class="section-card home-social-card">
    <div class="home-card-top">
      <span class="home-chip">Social</span>
      <span class="home-source">{item.source}</span>
    </div>
    <h3>{item.title}</h3>
    <p>{item.summary}</p>
  </a>
  {/for}
  {/if}
</section>

<section class="page-grid home-highlight-grid" id="events">
  <div class="section-header home-highlight-header home-highlight-full">
    <p class="section-subtitle">Events highlights</p>
    <h2 class="page-title">Upcoming agenda</h2>
    <a href="/eventos" class="btn-primary">Open Events</a>
  </div>

  {#if popularEvents.isEmpty()}
  <article class="section-card home-highlight-empty home-highlight-full">
    <span class="material-symbols-outlined">event_busy</span>
    <p>No upcoming events yet. Visit Events for historical sessions.</p>
  </article>
  {#else}
  {#for event in popularEvents}
  <a href="/event/{event.id}" class="section-card home-event-card">
    <div class="home-card-top">
      <span class="home-chip">Event</span>
      <span class="home-source">{event.formattedDate ?: 'Date TBA'}</span>
    </div>
    <h3>{event.title}</h3>
    <p>{event.descriptionSummary ?: 'Open the event for full details.'}</p>
  </a>
  {/for}
  {/if}
</section>

<section class="page-grid home-highlight-grid" id="project">
  <div class="section-header home-highlight-header home-highlight-full">
    <p class="section-subtitle">Project highlights</p>
    <h2 class="page-title">Build with the core contributors</h2>
    <a href="/proyectos" class="btn-primary">Open Project</a>
  </div>

  <article class="section-card home-project-contributors">
    <div class="home-card-top">
      <span class="home-chip">Project</span>
      <span class="home-source">{projectContributionTotal} total contributions</span>
    </div>
    <h3>Top contributors</h3>

    {#if projectHighlights.isEmpty()}
    <p>No contributor data available at the moment.</p>
    {#else}
    <div class="home-contributor-grid">
      {#for contributor in projectHighlights}
      <a href="{contributor.htmlUrl}" target="_blank" rel="noopener noreferrer" class="home-contributor-card"
        title="{contributor.login}">
        <img src="{contributor.avatarUrl}" alt="{contributor.login}" loading="lazy">
        <span>{contributor.login}</span>
      </a>
      {/for}
    </div>
    {/if}
  </article>

  <article class="section-card home-project-actions">
    <div class="home-card-top">
      <span class="home-chip">Project</span>
      <span class="home-source">Ready to contribute</span>
    </div>
    <h3>Pick a path and start</h3>
    <p>Explore project tracks, choose an issue, and contribute through the shared workflow.</p>
    <div class="home-project-actions-row">
      <a href="/proyectos" class="btn-primary">Explore tracks</a>
      <a href="https://github.com/os-santiago/homedir" target="_blank" rel="noopener noreferrer" class="btn-primary">
        View repository
      </a>
    </div>
  </article>
</section>
{/body}
{/include}
